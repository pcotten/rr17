package com.reciperex.storage.service;

import java.util.List;

import org.junit.Assert;

import com.reciperex.model.User;
import com.reciperex.service.IdService;
import com.reciperex.storage.service.DatabaseManager;

public class Test {

	
	
	public static void main(String[] args) {
		
		DatabaseManager dbManager = new DatabaseManager();
//		dbManager.testConnection();
		
		User user = new User("John", "Doe", "jdoe@someplace.net", "mrjj123", "myPassword!");
		
		dbManager.addUser(user);
		int userId = dbManager.queryMaxIdNumber(null);
		user.setId(userId);
		List<User> users = dbManager.queryUsers("userId", "=", user.getId().toString());
		dbManager.deleteUser(user);
		Assert.assertTrue("users list was empty", !users.isEmpty()) ;
		Assert.assertTrue("user's first name was not John", users.get(0).getFirstName().equals("John"));
	
		

	}

}
