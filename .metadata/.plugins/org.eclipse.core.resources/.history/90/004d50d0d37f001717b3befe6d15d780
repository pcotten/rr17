package com.reciperex.storage.service;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.junit.Assert;

import com.reciperex.model.User;
import com.reciperex.service.IdService;
import com.reciperex.storage.service.DatabaseManagerOLD;

public class Test {

	
	
	public static void main(String[] args) {
		
		DatabaseManager dbManager = new DatabaseManager();
		
//		Map<String, String> constraints = new HashMap<String, String>();
//		constraints.put("user.pantryId", "2");
//		List<Object> users = dbManager.retrieveEntities(constraints, User.class);
//		for (Object o : users) {
//			User user = (User) users.get(users.indexOf(o));
//			System.out.println(user.getFirstName() + " " + user.getLastName());
//		}
//	}
		
		
		User user = new User();
		int result = 0;
		
		user.setFirstName("Jane");
		user.setLastName("Dover");
		user.setAge(32);
		user.setUsername("doej");
		user.setPassword("password");
		user.setEmail("janedover@somewhere.com");
		user.setBio("Jane's bio");
		user.setGender('M');
		user.setCity("Denver");
		user.setState("CO");
		user.setCountry("USA");

		result = dbManager.insertNewUser(user);
		if (result != 0) {
			Map<String, String> constraints = new HashMap<String, String>();
			constraints.put("username", "'" + user.getUsername() + "'");
			user = (User) dbManager.retrieveSingleEntity(constraints, User.class);
			dbManager.insertNewPantry(user.getUserId());
		}
	}

}
